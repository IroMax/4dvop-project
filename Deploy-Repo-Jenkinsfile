pipeline {
  agent any
  stages {
    stage('Checkout the project'){
      steps {
        checkout scm
      }
    }
    stage('Deploy Gogs Git Private Repository') {
      steps {
        sh 'ansible-playbook -i ./deploy/ansible/inventory2 ./deploy/ansible/gogs-repository-setup-playbook.yml --tags deploy-repository'
      }
    }
  }
  post{
      always{
        deleteDir()
      }
  }
}
